<!DOCTYPE html>
<html>
<head>
  <title>Vault PW Mgr</title>
  <script src="https://unpkg.com/vue"></script>
  <style>
body {
  font-family: Menlo, Consolas, monospace;
  color: #444;
}
.group {
  cursor: pointer;
}
.bold {
  font-weight: bold;
}
ul {
  padding-left: 1em;
  line-height: 1.5em;
  list-style-type: none;
}
#nav div {
  display: inline-block;
  width: 35%;
  height: 100%;
  vertical-align: top;
  box-sizing: border-box;
  padding: 0,20px;
}
  </style>
</head>
<body>
<!-- group template -->
<script type="text/x-template" id="group-template">
  <div>
    <div
      class="bold"
      @click="toggle">
      {{model.name}}
    </div>
    <ul v-show="open">
      <div v-for="entry in model.entries">
        <entry :model="entry"/>
      </div>
    </ul>
  </div>
</script>

<!-- Login template -->
<script type="text/x-template" id="login-template">
  <div>
    <h2>Login</h2>
<!--    <p v-if="$route.query.redirect">
      You need to login first.
    </p> -->
    <form @submit.prevent="login">
      <label><input v-model="userid" placeholder="userID"></label>
      <label><input v-model="pass" placeholder="password" type="password"></label>
      <button type="submit">login</button>
      <p v-if="error" class="error">Bad login information</p>
    </form>
  </div>
</script>

<script type="text/x-template" id="pwmgr-template">
  <div>
    <div id="nav">
      <ul>
	<li v-for="item in groups">
	  <group
	    class="group"
	    :model="item">
	  </group>
	</li>
      </ul>
    </div>
    <div id="entrydetails" >
      <form @submit.prevent="update">
	<label><input v-model="userid" placeholder="userID"></label>
	<label><input v-model="pass" placeholder="password" type="password"></label>
	<button type="submit">update</button>
	<p v-if="error" class="error">Error in data</p>
      </form>
    </div>
  </div>
</script>

<script type="text/x-template" id="app-template">
  <authentication v-if="(flow == 'auth')" v-on:auth-done="authComplete">
  </authentication>
  <pwmgr v-else :groups="pwgroups"> 
  </pwmgr>
</script>


<p>Vault Password Manager</p>
<application id="demo"></application>

<script src="pwmgr.js"></script>
</body>
</html>

